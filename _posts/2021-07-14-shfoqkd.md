---
layout: single
title: "미니프로젝트"
---

[문제 상황]  
노래방에서 누가 노래를 부를지 정하기가 애매하다.  
어떤 경우 한 사람이 계속 부르는 경우도 있다.  
공평하게 노래를 부를 수 있도록 해야한다.  


[작업 조건]  
최대 사람 수는 제한이 없고 돈을넣은 액수만큼 노래를 부를 수 있는 확률이 증가한다.  

[설계]  
몇명이서 노래방을 왔는지 입력받는다.  
몇명이서 부르는 노래인지 입력받는다.  
부르는 사람 수만큼 무작위로 사람을 뽑는다.  
무작위로 뽑을 때 돈을 넣은 금액을 확인한다.  

[문제 해결]  
~~~python
import random

total = 0                                                               # total = 총 남은 금액

co = int(input('몇명이서 왔는지 입력: '))                               # co = 전체 인원 수

lst = []                                                                # lst[[n번째 사람, 입력한 금액]]

for i in range(co):                                                     # 전체 인원과 그의 금액( 처음이라 0원 ) 리스트 만들기
    lst.append([i+1,0])

while True:                                                             # 노래 부름
  
  pay = input("돈을 넣었는가? Y/N: ")
  if pay == 'Y':
    coin = int(input('몇번째 사람이 넣었는지 입력: '))                  # coin = 돈 넣은 사람이 몇번째인지
    amount = int(input('얼마를 넣었는지 입력(500원 단위): '))           # amount = 넣은 금액 ( 500원 단위 )
    total = total + amount                                              # 총 금액에 넣은 금액 추가
    lst[coin][1] = lst[coin][1] + amount                                # lst에 넣은 금액 추가 하기

  total = total - 500                                                   # 노래 1곡 당 500원
  print((total//500) + 1 ,"곡 남았습니다.")                             # 부를 수 있는 곡 수
  if total < 0:                                                         # 남은 금액이 없으면 노래 그만 부르기
    break

  sing = int(input('몇명이서 부를지 입력: '))                           # sing = 몇명이서 부르는 노래인지

  w_lst = []                                                            # w_lst = 넣은 금액을 500으로 나눈 값 -> 돈 넣은만큼 확률 높일 때 사용
  for j in range(co):                                                   # w_lst에 값 넣기 ( +1을 하는 이유: 확률이 0이면 안뽑힘 )
    w_lst.append((lst[j][1]//500) + 1) 

  who = set()                                                           # who = 누가 부를지 ( set으로 한 이유: 중복 제거, 순서 필요 없음 )
  while len(who)<sing:                                                  # sing의 값만큼 부를 사람 수를 뽑음
    who.add(random.choices(range(0, co), weights = w_lst)[0])           # who에 무작위로 몇번째 사람이 불러야 하는지 정해줌 ( weights = 확률 정하기 -> [1,1,1,2,1]이면 4번쨰 사람이 뽑힐 확률이 더 높음 )
  print(who,'번째 사람이 부르기')                                               
~~~

[결과]  
~~~python
몇명이서 왔는지 입력: 7
돈을 넣었는가? Y/N: Y
몇번째 사람이 넣었는지 입력: 3
얼마를 넣었는지 입력(500원 단위): 1500
3 곡 남았습니다.
몇명이서 부를지 입력: 2
{3, 6} 번째 사람이 부르기
돈을 넣었는가? Y/N: N
2 곡 남았습니다.
몇명이서 부를지 입력: 1
{5} 번째 사람이 부르기
돈을 넣었는가? Y/N: Y
몇번째 사람이 넣었는지 입력: 3
얼마를 넣었는지 입력(500원 단위): 1000
3 곡 남았습니다.
몇명이서 부를지 입력: 3
{1, 3, 4} 번째 사람이 부르기
돈을 넣었는가? Y/N: N
2 곡 남았습니다.
몇명이서 부를지 입력: 2
{3, 6} 번째 사람이 부르기
돈을 넣었는가? Y/N: N
1 곡 남았습니다.
몇명이서 부를지 입력: 1
{3} 번째 사람이 부르기
돈을 넣었는가? Y/N: N
0 곡 남았습니다.
~~~  

[느낀점]  
처음에는 좀더 여러 기능들 ex)연속으로 뽑힐 확률 감소, 확률이 오르는 최대치 존재, ...)  
을 넣고 싶었는데, 코드를 짜다보니 이러한 기능들을 넣기는 어려워서 최소한의 기능까지만 넣었다.  
다음에 실력을 더욱 기른 다음 이 코드를 수정해나가면서 처음 내가 원했던 기능뿐만아니라 여러 부가적인  
기능들도 넣고싶다고 생각하는 계기가 되었다. 또한, 그 전까지는 이미 답이 정해져있는 코드들을 문제형식으로만  
풀었었는데, 직접 계획한 코드를 만들다보니 이 코드가 내 수준에서 만들 수 있을 것이라는 확신도 없고,  
검색하며 짜기에도 어려움이 많았다. 이러한 경험들을 많이 해보면 이 또한 익숙해지고 내가 진정 바라는 프로그래머가  
될 수 있을 것이라 기대하였다.
